SSG for SpoilerAL ver 6.3
#-*-posh-*-
[script]
[title]*** scope, offsetのテスト ***
[maker]Zal Verkehrsverbund
[creator]七星
[process]<TApplication> *SpoilerAL :SpoilerAL.exe
[note]
同じ多段属性が外側から評価されるテストも兼ねる
6.3は[funnel]の評価順序を条件式→アドレスにし、
項目アクセス前に行われた[enabled]は再評価しない
※アドレス0でもスキップしない（しっかりエラーを出す）
[/note]

[allocate]3,14,Local

[involve]INV

[group]Fun
6,_L Memory::7,$1 8 $$
[/group]

[group]Repeat
	[scope]count=[!L $Val !].0e0;
		[subject]#[!L ~($Val idiv 10) !] @count　　= <# ++@count, %f #>:split,label
	[/scope]
[/group]

[/involve]

[subject]global count = <# ++@count #>:split,label
[scope]count,これは酷い=-1;
	[subject]local -count = <# --@count #>:split,label
	[subject]　@これは酷い= <# @これは酷い #>:split,label
	[offset]_4
		[offset]_5
			[enabled]1
				[enabled]2
					[funnel]INV->Fun
						[root]
						[subject]inner offset = <# [.0.] => @inner #>/_:calc,_L [.Memory::3.],0,-1,unsigned
					[/funnel]
				[/enabled]
			[/enabled]
		[/offset]
		[subject]outer offset = <# @outer = [.0.] #>:split,label
	[/offset]
[/scope]
[subject]raw   offset = <# [.0.] #>:split,label
[subject]global count = <# @count++ #>:split,label
[subject]　@inner     = <# @inner #>:split,label
[subject]　@outer     = <# @outer #>:split,label
[repeat]INV->Repeat,-100,0,10,signed

[/script]
