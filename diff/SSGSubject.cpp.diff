--- spal60sr\src\TSSGCtrl\SSGSubject.original.cpp	Sun Apr  6 21:44:22 2003
+++ spal60sr\src\TSSGCtrl\SSGSubject.cpp	Sun Apr  6 21:44:22 2003
@@ -1,5 +1,47 @@
 #include "SSGSubject.h"
 
+#if REPEAT_INDEX
+#include "SSGSubjectProperty.h"
+#endif
+
+#if IO_FEP_SUPPORT
+#include "intrinsic.h"
+#endif
+
+#if REPEAT_INDEX
+//---------------------------------------------------------------------
+TSSGSubject::TSSGSubject() :isSeted(false), status(0), attribute(NULL)
+{
+	type = ssgCtrl::stNONE;
+#if IO_FEP_SUPPORT
+	isFEP = FALSE;
+#endif
+#if SUBJECT_STATUS
+	evaluateAtRead = FALSE;
+	address = NULL;
+#endif
+	AppendSubjectProperty(this);
+}
+#endif
+#if IO_FEP_SUPPORT
+//---------------------------------------------------------------------
+void __stdcall TSSGSubject_CheckFEPParam(TSSGSubject *_this, const string *s)
+{
+	if (!s->empty())
+	{
+		const char *p = s->begin();
+		while (__intrinsic_isspace(*p))
+			p++;
+		size_t length = s->end() - p;
+		if (length >= 3)
+		{
+			while (__intrinsic_isspace(*(p + length - 1)) && --length >= 3);
+			if (length == 3 && p[0] == 'f' && p[1] == 'e' && p[2] == 'p')
+				TSSGSubject_IsFEP(_this) = TRUE;
+		}
+	}
+}
+#endif
 //---------------------------------------------------------------------
 //uƒƒ‚ƒŠ’†‚©‚ç‚Ì’lŠ“¾‚à”Íáe‚É“ü‚ê‚½subjecNameŠ“¾ŠÖ”v
 //---------------------------------------------------------------------
